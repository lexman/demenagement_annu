(function t(e,i,o){function n(r,a){if(!i[r]){if(!e[r]){var l=typeof require=="function"&&require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);var h=new Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[r]={exports:{}};e[r][0].call(u.exports,function(t){var i=e[r][1][t];return n(i?i:t)},u,u.exports,t,e,i,o)}return i[r].exports}var s=typeof require=="function"&&require;for(var r=0;r<o.length;r++)n(o[r]);return n})({1:[function(t,e,i){(function(i){"use strict";var o=typeof window!=="undefined"?window["L"]:typeof i!=="undefined"?i["L"]:null;var n=t("./tools/Attribution");var s=t("./tools/Logo");var r=t("./tools/Geolocation");var a=t("./tools/Legend");var l=t("./tools/Tooltip");var h=t("./tools/TileLayer");var u=t("./L.Mappy");e.exports=o.Map.extend({_tileLayers:{},_tooltip:null,disabledActions:[],initialize:function(t,e){e=e||{};if(e.clientId){u.setClientId(e.clientId)}u._checkClientId();var i=e.zoomControl!==undefined?e.zoomControl:true;e.zoomControl=false;var l=e.attributionControl!==undefined?e.attributionControl:{};e.attributionControl=false;e.maxBounds=e.maxBounds||o.latLngBounds(o.latLng(-90,-1e5),o.latLng(90,1e5));e.worldCopyJump=e.worldCopyJump!==undefined?e.worldCopyJump:true;e.zoomAnimationThreshold=e.zoomAnimationThreshold!==undefined?e.zoomAnimationThreshold:3;this.baseLayers={standard:new h("standard",1,e.tileLayerOptions),photo:new h("photo",1,e.tileLayerOptions)};var c={minZoom:e.tileLayerOptions&&e.tileLayerOptions.minZoom>6?e.tileLayerOptions.minZoom:6};this.overlays={public_transport:new h("public_transport",2,o.extend({},e.tileLayerOptions,c)),traffic:new h("traffic",2,e.tileLayerOptions),hybrid:new h("hybrid",2,e.tileLayerOptions)};o.Map.prototype.initialize.call(this,t,e);this.attributionControl=new n(l).addTo(this);if(e.logoControl!==false){this.logoControl=new s(e.logoControl||{}).addTo(this)}this.setViewmode(e.viewmode);if(i!==false){this.zoomControl=o.control.zoom(i||{}).addTo(this)}if(e.layersControl===undefined||e.layersControl){this.layersControl=o.control.layers(this.baseLayers,this.overlays,e.layersControl||{}).addTo(this)}if(e.geolocationControl&&"geolocation"in navigator){this.geolocationControl=new r(e.geolocationControl).addTo(this)}if(e.legendControl){this.legendControl=new a(e.legendControl).addTo(this)}if(e.tooltip!==false){this.manageTooltip()}},manageTooltip:function(){this._tooltip=new l({map:this,showDelay:0,hideDelay:0});this.on("mousemove",this._handleMousemove);this.on("move",this._tooltip.hide,this._tooltip);this.on("zoomstart",this._tooltip.hide,this._tooltip)},setViewmode:function(t){if(t==="hybrid"){this.setOverlay(t)}t=t==="hybrid"?"photo":t||"standard";this._setTileLayer(this.baseLayers,t);if(this.baseLayers[t]){this.fire("viewmode-"+t,this.baseLayers[t])}},setOverlay:function(t){this._setTileLayer(this.overlays,t);this.fire("overlay-"+(t||"disabled"),this.overlays[t]?this.overlays[t]:null)},removeOverlay:function(t){this.removeLayer(this.overlays[t]);this.fire("overlay-disabled",this.overlays[t]?this.overlays[t]:null)},disableInteractions:function(){var t=["dragging","touchZoom","scrollWheelZoom","doubleClickZoom","boxZoom","keyboard"];this.disabledActions=[];for(var e=0;e<t.length;e++){if(this[t[e]]&&this[t[e]].enabled()){this.disabledActions.push(t[e]);this[t[e]].disable()}}},enableInteractions:function(){for(var t=0;t<this.disabledActions.length;t++){this[this.disabledActions[t]].enable()}},getTilelayer:function(t){var e=t==="overlay"?this.overlays:this.baseLayers;for(var i in e){if(e.hasOwnProperty(i)&&this.hasLayer(e[i])){return e[i]}}return null},_setTileLayer:function(t,e){if(e==="hybrid"){this.addLayer(t[e])}else{for(var i in t){if(t.hasOwnProperty(i)&&this.hasLayer(t[i])&&(i!=="hybrid"||!e)){this.removeLayer(t[i])}}if(t[e]){this.addLayer(t[e])}}return this},_handleMousemove:function(t){var e=this.getTilelayer();if(!e){return}e=e.layerItems;var i=this.getTilelayer("overlay");if(i){e=e.concat(i.layerItems)}var o=0;var n=false;while(o<e.length&&!n){var s=e[o].box;if(s.minx<t.latlng.lng&&t.latlng.lng<s.maxx&&s.miny<t.latlng.lat&&t.latlng.lat<s.maxy){if(!this._tooltip.isVisible()){this._showItemTooltip(e[o])}n=true}o++}if(!n){this._tooltip.hide()}},_showItemTooltip:function(t){var e=u._getScheme()+"://logotc."+u._getDomain()+"/pictos/web/desktop/";var i={M:"metro",S:"rer",T:"train",TY:"tram"};var n=[];var s=t.properties.description.line;s=s instanceof Array?s:[s];for(var r=0;r<s.length;r++){if(!n[s[r].type]){n[s[r].type]=[]}n[s[r].type].push(s[r].num)}var a="";for(var l in n){if(n.hasOwnProperty(l)){var h=i[l]||l;var c=['<img src="'+e+"modes/"+h+'.png" />'];for(var f in n[l]){if(n[l].hasOwnProperty(f)){var d=h==="tram"?"t"+n[l][f].toLowerCase():n[l][f].toLowerCase();c.push('<img src="'+e+"lines/stif_"+h+"_"+d+'.png" />')}}a+="</p><p>"+c.join("")}}var p=this.latLngToContainerPoint(o.latLng((t.box.maxy+t.box.miny)/2,(t.box.maxx+t.box.minx)/2));this._tooltip.show(p,"<div><p><span>"+t.properties.description.label+"</span>"+a+"</p></div>")},addLegendControl:function(t){t=t||this.options.legendControl||{};if(this.legendControl)return;this.legendControl=new a(t.legendControl).addTo(this)},removeLegendControl:function(){if(this.legendControl){this.legendControl.remove();this.legendControl=null}}});o.Handler.MarkerDrag.prototype._onDrag=function(){var t=this._marker;var e=t._shadow;var i=o.DomUtil.getPosition(t._icon);var n=t._map.containerPointToLayerPoint([0,0]);var s=t._map.containerPointToLayerPoint(t._map.getSize());var r=new o.Point(Math.max(n.x+5,Math.min(i.x,s.x-5)),Math.min(s.y-5,Math.max(i.y,n.y+15)));o.DomUtil.setPosition(t._icon,r);var a=t._map.layerPointToLatLng(r);if(e){o.DomUtil.setPosition(e,r)}t._latlng=a;t.fire("move",{latlng:a}).fire("drag")}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./L.Mappy":4,"./tools/Attribution":6,"./tools/Geolocation":8,"./tools/Legend":10,"./tools/Logo":11,"./tools/TileLayer":14,"./tools/Tooltip":15}],2:[function(t,e,i){(function(t){"use strict";var i=typeof window!=="undefined"?window["L"]:typeof t!=="undefined"?t["L"]:null;function o(t){return t[0]}function n(t){return t.slice(-1)[0]}function s(t){return{start:function(e){return s(o(t[e]))},end:function(e){return s(n(t[e]))},get:function(){return[t[1],t[0]]},wrap:function(e){return s(t[e])}}}function r(t,e){return s(t)[e]("features").wrap("geometry")[e]("coordinates").get()}function a(t,e){var o=i.Mappy.getImgPath()+"roadbook-step-"+e+".png";return i.marker(r(t,e),{icon:new i.DivIcon({className:"iti-marker mappy-route-"+e,html:'<img src="'+o+'" />',iconSize:[40,50],iconAnchor:[20,50]})})}e.exports.route=function(t){var e=t[0].sections[0];var o=i.geoJSON(e);return i.featureGroup([o,a(e,"start"),a(e,"end")])}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],3:[function(t,e,i){(function(i){"use strict";var o=t("./L.Mappy");var n=typeof window!=="undefined"?window["L"]:typeof i!=="undefined"?i["L"]:null;var s=t("./tools/RouteAPIDeprecation");function r(t,e,i){if(!t.hasOwnProperty(e)){throw new Error(i)}}function a(t){t.routes.forEach(function(t){delete t.gps_link_template;delete t.gps_label;delete t.roadbook_link;delete t.gps_query_params});return t}function l(t,e,i){o._checkClientId();o.cors({url:t.url,data:t.data,success:function(t){if(t&&t.code){return i(t)}if(!t||!t.addresses||!t.addresses.features||t.addresses.features.length===0){return i("no_result")}e(t.addresses.features)},error:i})}function h(t){function e(){if(t instanceof n.LatLng){return[t.lng,t.lat]}return t.split(",").map(parseFloat)}return e(t).map(function(t){return t.toFixed(6)}).join(",")}e.exports={localeParameters:{fr_FR:{favoriteCountry:250,language:"fre"},en_GB:{favoriteCountry:826,language:"eng"},fr_BE:{favoriteCountry:56,language:"fre"},nl_BE:{favoriteCountry:56,language:"dut"}},_decodePolyline:function(t){var e=t.length;var i=[];var o=[];var n=0;var s=0;var r=0;var a=function(){var e;var i=0;var o=0;do{e=t.charCodeAt(n++)-63;o|=(e&31)<<i;i+=5}while(e>=32);return(o&1)>0?~(o>>1):o>>1};while(n<e){i.push(a())}for(var l=0;l<i.length;l+=2){s+=i[l]*1e-5;r+=i[l+1]*1e-5;o.push([s,r])}return o},geocodeReverse:function(t,e,i){if(t instanceof Array){t=n.latLng(t[0],t[1])}l({url:o._getGeocodeReverse(),data:{x:t.lng,y:t.lat}},e,i)},geocodeForward:function(t,e,i){l({url:o._getGeocodeForward(),data:{limit:10,q:t}},e,i)},route:function(t,e,i){o._checkClientId();r(t,"from","1st argument should contains from as string (lon,lat)");r(t,"to","1st argument should to as string (lon,lat)");r(t,"providers","1st argument should contains providers as string");this._transports(t,n.bind(function(o){this._requestRoute(n.extend(t,{qid:o}),function(t,i){e(a(t),i)},i)},this),i)},roadbook:function(t,e,i){this._requestRoute(t,n.bind(function(t){this._request("cors",o._getScheme()+"://routemm."+o._getDomain()+"/multipath/"+o._getRouteAPIVersion()+t.routes[0].roadbook_link,undefined,e,i)},this),function(t){i(t)})},_transports:function(t,e,i){t=t||{};var s=t.version;var r=t.domain;delete t.version;delete t.domain;var a=n.extend(t,{clientid:o._getClientId(),lang:o.getLocale()},{from:h(t.from),to:h(t.to)},t);this._request("cors",o._getScheme()+"://routemm."+(r||o._getDomain())+"/multipath/"+(s||o._getRouteAPIVersion())+"/transports",a,function(t,i){e(t.qid,i)},i)},_requestRoute:function(t,e,i){var s=n.extend(t||{},{clientid:o._getClientId(),lang:o.getLocale()},{from:h(t.from),to:h(t.to),providers:t.providers},t);this._request("cors",o._getScheme()+"://routemm."+o._getDomain()+"/multipath/"+o._getRouteAPIVersion()+"/routes",s,function(t,o){if(!t||!t[s.providers]||!t[s.providers].routes||t[s.providers].routes.length===0){return i("no_result",o)}e(t[s.providers],o)},i)},_request:function(t,e,i,n,r){var a=s(n,r);o[t]({url:e,data:i,success:a.successCallback,error:a.failureCallback})}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./L.Mappy":4,"./tools/RouteAPIDeprecation":13}],4:[function(t,e,i){"use strict";function o(t){var e,i,o;e=[];for(i in t){if(t.hasOwnProperty(i)){o=t[i];e.push(window.encodeURIComponent(i)+"="+window.encodeURIComponent(o))}}return e.join("&")}var n={fr:{"layers.traffic":"Trafic","layers.transport":"Transports en commun","layers.photo":"Vue aérienne","layers.hybrid":"Afficher le nom des lieux","trafficLegend.trafficAt":"Trafic à {hours}:{minutes}","trafficLegend.slow":"ralenti","trafficLegend.blocked":"fermé","vehicle.car":"Voiture","vehicle.walk":"Piéton","vehicle.bike":"Vélo","bikelegend.title":"Pistes cyclables"},en:{"layers.traffic":"Traffic","layers.transport":"Public transports","layers.photo":"Satellite photos","layers.hybrid":"Display locations names","trafficLegend.trafficAt":"Traffic at {hours}:{minutes}","trafficLegend.slow":"slow","trafficLegend.blocked":"congested","vehicle.car":"Car","vehicle.walk":"Pedestrian","vehicle.bike":"Bicycle","bikelegend.title":"Bicycle paths"},nl:{"layers.traffic":"Verkeer","layers.transport":"Openbaar vervoer","layers.photo":"Luchtfoto's","layers.hybrid":"Locaties weergeven namen","trafficLegend.trafficAt":"Verkeer op {hours}:{minutes}","trafficLegend.slow":"langzaam","trafficLegend.blocked":"vastgelopen","vehicle.car":"Auto","vehicle.midcar":"Middelgrote auto","vehicle.walk":"Voetganger","vehicle.bike":"Fiets","bikelegend.title":"Fietspaden"}};e.exports={version:"7.5.4",_domain:"mappy.net",_token:"g0ztPgTHGBpIzhtEqb8IVksxgvRO/VCtTwFgtyNXgrE1AkVLgdBHwFgwpQ55cR5jtxZX0O5W1nY=",_clientId:null,_https:document.location.protocol.substr(0,5)==="https",_locale:"fr_FR",_imgPath:"images/",_logs:true,_defaultRouteAPIVersion:"6.0",_tooltip:true,getText:function(t){return n[this._locale.substr(0,2)][t]||""},setLocale:function(t){if(t!=="fr_FR"&&t!=="en_GB"&&t!=="fr_BE"&&t!=="nl_BE"){throw new Error("This locale is not available")}this._locale=t;return this},setImgPath:function(t){this._imgPath=t;return this},getImgPath:function(){return this._imgPath},getLocale:function(){return this._locale},setToken:function(){throw new Error("setToken is deprecated in favor of setClientId (refer to documentation)")},_getToken:function(){return this._token},enableLogs:function(){this._logs=true;return this},disableLogs:function(){this._logs=false;return this},isLogsEnabled:function(){return this._logs},enableTooltip:function(){this._tooltip=true;return this},disableTooltip:function(){this._tooltip=false;return this},isTooltipEnabled:function(){return this._tooltip},setClientId:function(t){this._clientId=t;if(this._clientId){var e=this._getScheme()+"://log."+this._getDomain()+"/log/1.0/ping/api-leaflet/"+this._clientId+"/"+this.version;setTimeout(function(){(new Image).src=e},1e3)}return this},_getClientId:function(){return this._clientId},enableHttps:function(){this._https=true;return this},disableHttps:function(){this._https=false;return this},_getHttps:function(){return this._https},_getScheme:function(){return"http"+(this._getHttps()?"s":"")},_getDomain:function(){return this._domain},_setDomain:function(t){this._domain=t;return this},_getGeocodeForward:function(){return"http"+(this._getHttps()?"s":"")+"://geocode."+this._getDomain()+"/forward/1.0/find"},_getGeocodeReverse:function(){return"http"+(this._getHttps()?"s":"")+"://geocode."+this._getDomain()+"/reverse/1.0/find"},_checkClientId:function(){if(!this._getClientId()){throw new Error("ClientId is mandatory (refer to documentation).")}},_setRouteAPIVersion:function(t){this._routeAPIVersion=t;return this},_getRouteAPIVersion:function(){return this._routeAPIVersion||this._defaultRouteAPIVersion},_resetRouteAPIToDefaultVersion:function(){this._routeAPIVersion=this._defaultRouteAPIVersion;return this},cors:function(t){var e;if(window.XDomainRequest){e=new XDomainRequest;if(t.data){e.open("GET",t.url+"?"+o(t.data))}else{e.open("GET",t.url)}if(t.error){e.onerror=t.error}e.onload=function(){t.success(JSON.parse(e.responseText))};e.send()}else if(window.XMLHttpRequest){e=new XMLHttpRequest;if(t.data){e.open("GET",t.url+"?"+o(t.data),true)}else{e.open("GET",t.url,true)}e.onerror=function(){if(t.error){t.error("server_error")}};e.onreadystatechange=function(){if(e.readyState===4){if(e.status>=200&&e.status<400){var i;try{i=JSON.parse(e.responseText)}catch(e){if(t.error){t.error("server_error")}return}t.success(i)}else if(e.status>=400&&e.status<500){if(t.error){if(e.getResponseHeader("content-type").indexOf("json")!==-1){t.error(JSON.parse(e.responseText))}else{t.error("no_result")}}}}};e.send()}else{if(t.error){t.error("cors_not_supported")}}}}},{}],5:[function(t,e,i){"use strict";t("./tools/Layers");t("./tools/Zoom");t("./tools/TrafficLegend");var o=t("./L.Mappy");o.Map=t("./L.Mappy.Map");o.Services=t("./L.Mappy.Services");o.Route=t("./L.Mappy.Route");o.Control=t("./tools/Control");o.TileLayer=t("./tools/TileLayer");o.route=o.Route.route;o.Vehicles=["car","bike","walk"];e.exports=o;window.L.Mappy=o;window.messages=t("./tools/Messages")},{"./L.Mappy":4,"./L.Mappy.Map":1,"./L.Mappy.Route":2,"./L.Mappy.Services":3,"./tools/Control":7,"./tools/Layers":9,"./tools/Messages":12,"./tools/TileLayer":14,"./tools/TrafficLegend":16,"./tools/Zoom":18}],6:[function(t,e,i){(function(i){"use strict";var o=typeof window!=="undefined"?window["L"]:typeof i!=="undefined"?i["L"]:null;var n=t("./TileLayer");e.exports=o.Control.Attribution.extend({options:{scale:true,position:"bottomleft",prefix:'&copy; <a href="https://blog.mappy.com/entreprise/conditions-dutilisations/copyright/" title="Mappy" target="_blank">Mappy</a> '},_layers:[],onAdd:function(t){t.on("layeradd",function(t){if(t.layer instanceof n){this._layers.push(t.layer);t.layer.on("attributionsrefresh",this._refreshAttributions,this)}},this);t.on("layerremove",function(t){for(var e=this._layers.length-1;e>=0;e--){if(this._layers[e]===t.layer){this._layers.splice(e,1);t.layer.off("attributionsrefresh",this._refreshAttributions,this);this._refreshAttributions()}}},this);var e=o.Control.Attribution.prototype.onAdd.call(this,t);if(this.options.scale){o.control.scale({imperial:false,position:this.options.position}).addTo(t)}return e},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t);var i=this.getPosition();var n=t._controlCorners[i];o.DomUtil.addClass(e,"leaflet-control");n.appendChild(e);return this},removeFrom:o.Util.falseFn,remove:o.Util.falseFn,clearAttributions:function(){this._attributions={};this._update()},_refreshAttributions:function(){this.clearAttributions();var t=[];for(var e=this._layers.length-1;e>=0;e--){t=t.concat(this._layers[e].getAttributions())}for(var i=0;i<t.length;i++){this.addAttribution(t[i])}}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./TileLayer":14}],7:[function(t,e,i){(function(i){"use strict";var o=typeof window!=="undefined"?window["L"]:typeof i!=="undefined"?i["L"]:null;var n=t("../L.Mappy");e.exports=o.Control.extend({options:{position:"topright",singleToolBox:false},_buttons:{},_tooltips:{},addTo:function(t){this._buttons={};this._tooltips={};o.Control.prototype.addTo.call(this,t);o.DomUtil.addClass(this._container,"mappy-control");return this},removeFrom:function(t){var e=this.getPosition();var i=t._controlCorners[e];if(!this.options.singleToolBox||this.options.singleToolBox){i.removeChild(this._container);this._container=null}this._map=null;if(this.onRemove){this.onRemove(t)}return this},_createContainer:function(t){this._container=o.DomUtil.create("div","mappy-control-"+t);return this._container},_getContainer:function(t){if(!this.options.singleToolBox){return o.DomUtil.create("div","mappy-control-"+t)}return o.DomUtil.create("div","mappy-control-main")},_createBasicButton:function(t,e){var i=o.DomUtil.create("a","mappy-button mappy-button-"+e,this._container);i.innerHTML=t||"";i.href="#";o.DomEvent.on(i,"mousedown",o.DomEvent.stop).on(i,"dblclick",o.DomEvent.stop).on(i,"click",o.DomEvent.stop);return i},_createButton:function(t,e,i,n){var s=this._createBasicButton(t,i);this._initTooltip(e,i,s);o.DomEvent.on(s,"click",n,this).on(s,"click",this._refocusOnMap,this);return s},_createSwitch:function(t,e,i,n,s,r,a){var l=this._createBasicButton(t,n);this._initTooltip(e,n,l,a);o.DomEvent.on(l,"click",function(t){if(!o.DomUtil.hasClass(l,"mappy-button-active")){this.activateButton(l);this._updateTooltipContent(i,n);s.call(this,t)}else{this.deactivateButton(l);this._updateTooltipContent(e,n);r.call(this,t)}this._refocusOnMap()},this);return l},_initTooltip:function(t,e,i,s){if(!t){return}if(!n.isTooltipEnabled()){return}o.DomEvent.on(i,"mouseenter",function(){this._closeTooltips();this._createTooltip(t,e,i)},this).on(i,"mouseleave",function(){this._closeTooltip(e,s)},this)},_createTooltip:function(t,e,i){if(!this._tooltips[e]){var n=o.DomUtil.create("div","mappy-tooltip mappy-tooltip-"+e,this._container);if(typeof t==="string"){n.innerHTML=t}else{n.appendChild(t)}this._tooltips[e]=n}else{this._container.appendChild(this._tooltips[e])}this._tooltips[e].style.top=i.offsetTop+(i.offsetHeight-this._tooltips[e].offsetHeight)/2+"px"},_updateTooltipContent:function(t,e){if(this._tooltips[e]&&t){if(typeof t==="string"){this._tooltips[e].innerHTML=t}else{this._tooltips[e].appendChild(t)}}},_closeTooltip:function(t,e){this._removing=setTimeout(o.bind(function(){if(this._tooltips[t].parentNode){this._container.removeChild(this._tooltips[t])}},this),e||0)},_closeTooltips:function(){clearTimeout(this._removing);for(var t in this._tooltips){if(this._tooltips[t].parentNode){this._tooltips[t].parentNode.removeChild(this._tooltips[t])}}},activateButton:function(t){o.DomUtil.addClass(t,"mappy-button-active");t.setAttribute("data-active",1)},deactivateButton:function(t){o.DomUtil.removeClass(t,"mappy-button-active");t.setAttribute("data-active",0)}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../L.Mappy":4}],8:[function(t,e,i){(function(i){"use strict";var o=typeof window!=="undefined"?window["L"]:typeof i!=="undefined"?i["L"]:null;var n=t("../L.Mappy");var s=t("./Control");e.exports=s.extend({options:{geolocationMarker:false,locateOptions:{}},_defaultLocateOptions:{setView:true,maxZoom:15,timeout:5*1e3,maximumAge:30*1e3,enableHighAccuracy:true},onAdd:function(t){var e=this.options.tooltipOptions||{};this._isLocated=true;this.options.locateOptions=o.extend(this._defaultLocateOptions,this.options.locateOptions);this._container=o.DomUtil.create("div","mappy-control-geolocation");this._geolocButton=this._createButton("<span>?</span>",e.location,"geolocation",this.activateGeolocation);t.on("locationfound",this.onGeolocationSuccess,this);t.on("locationerror",this.onGeolocationError,this);this.previousCompass=NaN;return this._container},activateGeolocation:function(){if(!this._isLocated){return}this._isLocated=false;this._map.off("moveend zoomend",this.deactivate,this);o.DomUtil.removeClass(this._geolocButton,"geolocation-error");o.DomUtil.addClass(this._geolocButton,"searching");this._map.fire("locationsearch");this._map.locate(this.options.locateOptions)},onRemove:function(t){t.off("locationfound",this.onGeolocationSuccess,this);window.removeEventListener("deviceorientation",this.headingChangeFn)},onHeadingChange:function(t){var e=t.webkitCompassHeading?t.webkitCompassHeading:360-t.alpha;var i=screen.orientation?screen.orientation.angle:window.orientation;var o=e+i;if(this.previousCompass!==o){this.geolocationMarker._icon.firstChild.style.transform="rotateZ("+o+"deg)";this.previousCompass=o}},onGeolocationSuccess:function(t){this._isLocated=true;o.DomUtil.removeClass(this._geolocButton,"searching");this.activateButton(this._geolocButton);setTimeout(function(){this._map.once("moveend zoomend",this.deactivate,this)}.bind(this),500);if(!this.options.geolocationMarker){return}if(!this.geolocationMarker){var e="marker_geolocation_x2.png";var i=new o.DivIcon({className:"geolocationMarker",iconSize:[30,30],iconAnchor:[15,15],html:'<img src="'+n.getImgPath()+e+'" width="30" height="30"/>'});this.geolocationMarker=o.marker(t.latlng,{icon:i}).addTo(this._map)}else{this.geolocationMarker.setLatLng(t.latlng)}window.removeEventListener("deviceorientation",this.headingChangeFn);this.headingChangeFn=this.onHeadingChange.bind(this);window.addEventListener("deviceorientation",this.headingChangeFn)},onGeolocationError:function(t){this._isLocated=true;o.DomUtil.removeClass(this._geolocButton,"searching");o.DomUtil.addClass(this._geolocButton,"geolocation-error");this._map.once("moveend zoomend",o.bind(function(){o.DomUtil.removeClass(this._geolocButton,"geolocation-error")},this))},deactivate:function(){this.deactivateButton(this._geolocButton)}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../L.Mappy":4,"./Control":7}],9:[function(t,e,i){(function(i){"use strict";var o=typeof window!=="undefined"?window["L"]:typeof i!=="undefined"?i["L"]:null;var n=t("../L.Mappy");o.Control.Layers=e.exports=t("./Control").extend({options:{autoZIndex:true,traffic:true,trafficTooltip:true,publicTransport:true,publicTransportTooltip:true,viewMode:true,viewModeTooltip:true,trafficLegend:true},initialize:function(t,e,i){o.setOptions(this,i);this._buttons={};this.trafficLegend=null;this._layers={};this._lastZIndex=0;for(var n in t){if(t.hasOwnProperty(n)){this._addLayer(t[n],n)}}for(n in e){if(e.hasOwnProperty(n)){this._addLayer(e[n],n,true)}}},_addLayer:function(t,e,i){var n=o.stamp(t);this._layers[n]={layer:t,name:e,overlay:i};if(this.options.autoZIndex&&t.setZIndex){this._lastZIndex++;t.setZIndex(this._lastZIndex)}},onAdd:function(t){this._container=this._getContainer("layers");this._initLayout();this._initActiveButton();t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this);return this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this);if(this.options.trafficLegend){this.trafficLegend.hide()}},_initLayout:function(){if(this.options.traffic!==false){this._buttons.traffic=this._createSwitch("<span>'</span>",this.options.trafficTooltip&&n.getText("layers.traffic"),null,"traffic",this.activateTraffic,this.deactivateTraffic)}if(this.options.publicTransport!==false){this._buttons.publicTransport=this._createSwitch("<span>&#57421;</span>",this.options.publicTransportTooltip&&n.getText("layers.transport"),null,"transport",this.activatePublicTransport,this.deactivatePublicTransport)}if(this.options.trafficLegend){this.trafficLegend=o.control.TrafficLegend()}if(this.options.viewMode!==false){var t=o.DomUtil.create("div");var e=o.DomUtil.create("span",null,t);var i=this._createCheckbox(t);var s=o.DomUtil.create("label",null,t);this._buttons.hybrid=i;e.innerHTML=n.getText("layers.photo");s.innerHTML=n.getText("layers.hybrid");s.setAttribute("for","mappy-hybrid");this._buttons.aerial=this._createSwitch("<span>#</span>",this.options.viewModeTooltip&&t,null,"aerial",function(){this._map.setViewmode("photo")},function(){this._map.setViewmode("standard");this._map.removeOverlay("hybrid")},500);o.DomEvent.on(t,"mouseenter",this._onAerialTooltipMouseEnter,this).on(t,"mouseleave",this._onAerialTooltipMouseLeave,this).on(i,"click",this._onAerialLabelClick,this)}},_initActiveButton:function(){var t=this._map.getTilelayer("overlay");if(t){this._addOverlay(t.options.name)}this._updateViewMode(this._map.getTilelayer().options.name)},_onLayerChange:function(t){var e=this._layers[o.stamp(t.layer)];if(!e){return}var i=e.overlay?t.type==="layeradd"?"overlayadd":"overlayremove":t.type==="layeradd"?"baselayerchange":null;if(e.overlay){if(i==="overlayremove"){this._removeOverlay(e.name)}else{this._addOverlay(e.name)}}else{this._updateViewMode(e.name)}if(i){this._map.fire(i,e)}},_removeOverlay:function(t){if(t==="traffic"){if(this._buttons.traffic){this.deactivateButton(this._buttons.traffic)}if(this.trafficLegend){this.trafficLegend.hide()}}else if(t==="public_transport"&&this._buttons.publicTransport){this.deactivateButton(this._buttons.publicTransport)}else if(t==="hybrid"&&this._buttons.hybrid){this._buttons.hybrid.checked=false}},_addOverlay:function(t){if(t==="traffic"){if(this._buttons.traffic){this.activateButton(this._buttons.traffic)}if(this.trafficLegend){this.trafficLegend.show(this._map)}}else if(t==="public_transport"&&this._buttons.publicTransport){this.activateButton(this._buttons.publicTransport)}if(this._buttons.hybrid&&t==="hybrid"){this._buttons.hybrid.checked=true}},_updateViewMode:function(t){if(!this._buttons.aerial){return}if(t==="standard"){this.deactivateButton(this._buttons.aerial)}else{this.activateButton(this._buttons.aerial)}},activateTraffic:function(t){this._map.setOverlay("traffic");if(this.trafficLegend){this.trafficLegend.show(this._map)}},deactivateTraffic:function(){this._map.removeOverlay("traffic");if(this.trafficLegend){this.trafficLegend.hide()}},activatePublicTransport:function(){this._map.setOverlay("public_transport")},deactivatePublicTransport:function(){this._map.removeOverlay("public_transport")},_createCheckbox:function(t){var e='<input type="checkbox" name="mappy-hybrid-checkbox" id="mappy-hybrid" />';var i=document.createElement("div");i.innerHTML=e;return t.appendChild(i.firstChild)},_onAerialTooltipMouseEnter:function(t){clearTimeout(this._removing)},_onAerialTooltipMouseLeave:function(t){this._closeTooltip("aerial",500)},_onAerialLabelClick:function(t){if(this._buttons.hybrid&&this._buttons.hybrid.checked){if(this._map.getTilelayer().options.name!=="photo"){this._map.setViewmode("photo")}this._map.setOverlay("hybrid")}else{this._map.removeOverlay("hybrid")}},getTrafficLegend:function(){return this.trafficLegend}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../L.Mappy":4,"./Control":7}],10:[function(t,e,i){(function(i){"use strict";var o=typeof window!=="undefined"?window["L"]:typeof i!=="undefined"?i["L"]:null;var n=t("../L.Mappy");e.exports=o.Control.extend({options:{position:"bottomright"},initialize:function(t){this.options=o.extend({},this.options,t)},onAdd:function(){this._container=o.DomUtil.create("div","mappy-bike-legend");var t=o.DomUtil.create("div","mappy-bike-legend-col mappy-bike-legend-left",this._container);o.DomUtil.create("span","mappy-bike-legend-bicyclepath-box",t);var e=o.DomUtil.create("div","mappy-bike-legend-col mappy-bike-legend-right",this._container);var i=o.DomUtil.create("p","mappy-bike-legend-title",e);i.innerHTML=n.getText("bikelegend.title");return this._container}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../L.Mappy":4}],11:[function(t,e,i){(function(i){"use strict";var o=typeof window!=="undefined"?window["L"]:typeof i!=="undefined"?i["L"]:null;var n=t("../L.Mappy");e.exports=o.Control.extend({options:{position:"topleft"},onAdd:function(){this._container=o.DomUtil.create("div","mappy-control-logo");var t=o.DomUtil.create("div","mappy-control-logo-img",this._container);var e=n.getImgPath()+"api-logo-2x.png";t.style.backgroundImage='url("'+e+'")';return this._container},removeFrom:o.Util.falseFn,remove:o.Util.falseFn})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../L.Mappy":4}],12:[function(t,e,i){"use strict";e.exports={DEFAULT_DEPRECATION_MESSAGE:"Attention cette API est obsolète, merci de contacter Mappy pour profiter de la dernière mise à jour",OK_DEPRECATION_STATUS:"ok",KO_DEPRECATION_STATUS:"warning"}},{}],13:[function(t,e,i){"use strict";var o=t("./Messages");var n=t("../L.Mappy");function s(t){return function(e){var i=e&&e.deprecation_status?e.deprecation_status:{};var s=n.isLogsEnabled();var r=i.status===o.KO_DEPRECATION_STATUS;if(s&&r){if(console){if(typeof console.warn==="function"){console.warn(i.message||o.DEFAULT_DEPRECATION_MESSAGE)}else if(typeof console.log==="function"){console.log(i.message||o.DEFAULT_DEPRECATION_MESSAGE)}}}return t(e,i)}}e.exports=function(t,e){return{successCallback:s(t),failureCallback:s(e)}}},{"../L.Mappy":4,"./Messages":12}],14:[function(t,e,i){(function(i){"use strict";var o=typeof window!=="undefined"?window["L"]:typeof i!=="undefined"?i["L"]:null;var n=t("../L.Mappy");var s=t("./Util");e.exports=o.TileLayer.extend({options:{minZoom:0,maxZoom:19,tileSize:256,subdomains:"1234"},tileUrl:"http{h}://map{s}.{domain}/map/1.0/slab/{m}/256/{z}/{x}/{y}",descrUrl:"http{h}://map1.{domain}/map/1.0/multi-descr/{m}/256/{z}/{t}",descrInfos:{},attributions:[],layerItems:[],initialize:function(t,e,i){i=o.setOptions(this,o.extend({h:n._getHttps()?"s":"",m:t,name:t,zIndex:e,domain:n._getDomain()},i));if(t!=="photo"&&i.detectRetina&&o.Browser.retina){this.options.m+="_hd"}if(t==="traffic"){this.tileUrl+="?refresh={refresh}";i.refresh={toString:function(){return Math.random()}}}o.TileLayer.prototype.initialize.call(this,this.tileUrl,i)},onAdd:function(t){o.TileLayer.prototype.onAdd.call(this,t);this.on("load",this._onLoad);if(this.options.name==="traffic"){this.interval=window.setInterval(o.bind(this.redraw,this),12e4)}},onRemove:function(t){o.TileLayer.prototype.onRemove.call(this,t);this.off("load",this._onLoad);if(this.options.name==="traffic"){window.clearInterval(this.interval)}},getAttributions:function(){return this.attributions},_onLoad:s(function(){var t=this._map.getPixelBounds();var e=t.min.clone();var i=t.max.clone();e=e.divideBy(this.options.tileSize)._floor();i=i.divideBy(this.options.tileSize)._floor();var o=[];for(var n=e.x;n<=i.x;n++){for(var s=e.y;s<=i.y;s++){o.push(n+","+s)}}if(o.length>0){this._requestDescr(o)}},500),_refreshAttributions:function(t){if(!this._map){return}this.attributions=[];this.layerItems=[];for(var e=0;e<t.length;e++){var i=this.options.m+"/"+this._getZoomForUrl()+"/"+t[e].replace(",","/");if(this.descrInfos[i]){for(var o=0;o<this.descrInfos[i].copyrights.length;o++){this.attributions.push(this.descrInfos[i].copyrights[o].name)}this.layerItems=this.layerItems.concat(this.descrInfos[i].items)}}this.fire("attributionsrefresh")},_requestDescr:function(t){var e=this._getZoomForUrl();var i=[];for(var s=0;s<t.length;s++){var r=this.options.m+"/"+e+"/"+t[s].replace(",","/");if(!this.descrInfos[r]){i.push(t[s])}}if(i.length>0){var a=o.Util.template(this.descrUrl,o.extend({z:e,t:i.join(";")},this.options));n.cors({url:a,success:o.bind(function(e){for(var i=0;i<e.length;i++){this.descrInfos[this.options.m+"/"+e[i].sid]=e[i]}this._refreshAttributions(t)},this)})}else{this._refreshAttributions(t)}}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../L.Mappy":4,"./Util":17}],15:[function(t,e,i){(function(t){"use strict";var i=typeof window!=="undefined"?window["L"]:typeof t!=="undefined"?t["L"]:null;var o;var n=e.exports=i.Class.extend({options:{width:"auto",minWidth:"",maxWidth:"",showDelay:500,hideDelay:500,mouseOffset:i.point(0,20),fadeAnimation:true,trackMouse:false},initialize:function(t){i.setOptions(this,t);this._createTip()},_createTip:function(){this._map=this.options.map;if(!this._map){throw new Error("No map configured for tooltip")}this._container=i.DomUtil.create("div","leaflet-tooltip");i.DomUtil.addClass(this._container,"mappy-tooltip-transport");this._container.style.position="absolute";this._container.style.width=this._isNumeric(this.options.width)?this.options.width+"px":this.options.width;this._container.style.minWidth=this._isNumeric(this.options.minWidth)?this.options.minWidth+"px":this.options.minWidth;this._container.style.maxWidth=this._isNumeric(this.options.maxWidth)?this.options.maxWidth+"px":this.options.maxWidth;if(this.options.html){this.setHtml(this.options.html)}if(this.options.target){this.setTarget(this.options.target)}this._map._tooltipContainer.appendChild(this._container)},isVisible:function(){return this._showing},setTarget:function(t){if(t._icon){t=t._icon}if(t===this._target){return}if(this._target){this._unbindTarget(this._target)}this._bindTarget(t);this._target=t},_bindTarget:function(t){i.DomEvent.on(t,"mouseover",this._onTargetMouseover,this).on(t,"mouseout",this._onTargetMouseout,this).on(t,"mousemove",this._onTargetMousemove,this)},_unbindTarget:function(t){i.DomEvent.off(t,"mouseover",this._onTargetMouseover,this).off(t,"mouseout",this._onTargetMouseout,this).off(t,"mousemove",this._onTargetMousemove,this)},setHtml:function(t){if(typeof t==="string"){this._container.innerHTML=t}else{while(this._container.hasChildNodes()){this._container.removeChild(this._container.firstChild)}this._container.appendChild(this._content)}this._sizeChanged=true},setPosition:function(t){var e=this._map.getSize();var i=this._container;var o=this._getElementSize(this._container);t=t.add(this.options.mouseOffset);if(t.x+o.x>e.x){i.style.left="auto";i.style.right=e.x-t.x+"px"}else{i.style.left=t.x+"px";i.style.right="auto"}if(t.y+o.y>e.y){i.style.top="auto";i.style.bottom=e.y-t.y+2*this.options.mouseOffset.y+"px"}else{i.style.top=t.y+"px";i.style.bottom="auto"}},remove:function(){this._container.parentNode.removeChild(this._container);delete this._container;if(this._target){this._unbindTarget(this._target)}},show:function(t,e){if(o&&o!==this){o._hide()}o=this;if(e){this.setHtml(e)}this.setPosition(t);if(this.options.showDelay){this._delay(this._show,this,this.options.hideDelay)}else{this._show()}},_show:function(){this._container.style.display="inline-block";i.DomUtil.addClass(this._container,"leaflet-tooltip-fade");this._showing=true},hide:function(){if(this.options.hideDelay){this._delay(this._hide,this,this.options.hideDelay)}else{this._hide()}},_hide:function(){if(this._timeout){clearTimeout(this._timeout)}i.DomUtil.removeClass(this._container,"leaflet-tooltip-fade");this._container.style.display="none";this._showing=false;if(o===this){o=undefined}},_delay:function(t,e,i){var o=this;if(this._timeout){clearTimeout(this._timeout)}this._timeout=setTimeout(function(){t.call(e);delete o._timeout},i)},_isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},_getElementSize:function(t){var e=this._size;if(!e||this._sizeChanged){e={};t.style.left="-999999px";t.style.right="auto";t.style.display="inline-block";e.x=t.offsetWidth;e.y=t.offsetHeight;t.style.left="auto";t.style.display="none";this._sizeChanged=false}return e},_onTargetMouseover:function(t){var e=this._map.mouseEventToContainerPoint(t);this.show(e)},_onTargetMousemove:function(t){i.DomEvent.stopPropagation(t);if(this.options.trackMouse){var e=this._map.mouseEventToContainerPoint(t);this.setPosition(e)}},_onTargetMouseout:function(t){this.hide()}});i.Map.addInitHook(function(){this._tooltipContainer=i.DomUtil.create("div","leaflet-tooltip-container",this._container)});var s=i.Marker.prototype.onAdd;var r=i.Marker.prototype.onRemove;var a=i.Marker.prototype.setIcon;i.Marker.include({getTooltip:function(){return this._tooltip},onAdd:function(t){s.call(this,t);if(this.options.tooltip){this._tooltip=new n(i.extend(this.options.tooltip,{target:this,map:t}))}},onRemove:function(t){if(this._tooltip){this._tooltip.remove()}r.call(this,t)},setIcon:function(t){a.call(this,t);if(this._tooltip){this._tooltip.setTarget(this._icon)}}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],16:[function(t,e,i){(function(i){"use strict";var o=typeof window!=="undefined"?window["L"]:typeof i!=="undefined"?i["L"]:null;var n=t("../L.Mappy");var s=t("./Control");o.Control.TrafficLegend=e.exports=s.extend({options:{position:"bottomright"},_initLayout:function(){this._container=o.DomUtil.create("div","mappy-traffic-legend clearfix");o.DomUtil.create("p","mappy-traffic-legend-title",this._container);var t=o.DomUtil.create("table","",this._container);var e=o.DomUtil.create("tr","",t);o.DomUtil.create("td","orange",e);o.DomUtil.create("td","red",e);o.DomUtil.create("td","darkred",e);o.DomUtil.create("td","black",e);o.DomUtil.create("p","left",this._container).innerHTML=n.getText("trafficLegend.slow");o.DomUtil.create("p","right",this._container).innerHTML=n.getText("trafficLegend.blocked");return this._container},show:function(t){if(this._map){this.refresh();if(this._container){o.DomUtil.addClass(this._container.parentElement,"leaflet-control-with-traffic")}return}this.addTo(t);if(this._container){o.DomUtil.addClass(this._container.parentElement,"leaflet-control-with-traffic")}},hide:function(){if(this._container){o.DomUtil.removeClass(this._container.parentElement,"leaflet-control-with-traffic")}if(this._map){this.removeFrom(this._map);this._map=null}},onAdd:function(){if(!this._container){this._initLayout()}this.refresh();this.interval=window.setInterval(o.bind(this.refresh,this),12e4);return this._container},onRemove:function(){window.clearInterval(this.interval)},refresh:function(){var t=new Date;this._container.querySelector("p.mappy-traffic-legend-title").innerHTML=o.Util.template(n.getText("trafficLegend.trafficAt"),{hours:t.getHours(),minutes:(t.getMinutes()<10?"0":"")+t.getMinutes()})}});o.control.TrafficLegend=function(t){return new o.Control.TrafficLegend(t)}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../L.Mappy":4,"./Control":7}],17:[function(t,e,i){"use strict";e.exports=function(t,e){var i;e=e||300;return function(){var o=this;var n=arguments;clearTimeout(i);i=setTimeout(function(){t.apply(o,Array.prototype.slice.call(n))},e)}}},{}],18:[function(t,e,i){(function(i){"use strict";var o=typeof window!=="undefined"?window["L"]:typeof i!=="undefined"?i["L"]:null;var n=t("./Control");o.Control.Zoom=o.Control.Zoom=e.exports=n.extend({options:{zoomSlider:false,tooltipOptions:null},onAdd:function(t){this._container=this._getContainer("zoom");this._initLayout();return this._container},onRemove:function(t){t.off("zoomlevelschange",this._updateSize,this).off("zoomend zoomlevelschange",this._updateKnobValue,this)},_initLayout:function(){var t=this.options.zoomSlider?" mappy-button-zoom-full":"";var e=this.options.tooltipOptions||{};this._buttons.zoomIn=this._createButton("<span>+</span>",e.zoomIn,"zoom-in"+t,function(t){this._map.zoomIn(t.shiftKey?3:1)});if(this.options.zoomSlider){this._buttons.slider=this._createSlider();this._buttons.knob=new s(this._buttons.slider.knob,8,8);this._map.whenReady(this._initKnob,this).whenReady(this._initEvents,this).whenReady(this._updateSize,this).whenReady(this._updateKnobValue,this)}this._buttons.zoomOut=this._createButton("<span>-</span>",e.zoomOut,"zoom-out"+t,function(t){this._map.zoomOut(t.shiftKey?3:1)})},_createSlider:function(){var t={};t.bar=o.DomUtil.create("div","mappy-slider",this._container);t.wrap=o.DomUtil.create("div","mappy-slider-wrap",t.bar);t.body=o.DomUtil.create("div","mappy-slider-body",t.wrap);t.knob=o.DomUtil.create("div","mappy-slider-knob");o.DomEvent.disableClickPropagation(t.bar);o.DomEvent.disableClickPropagation(t.knob);return t},_initKnob:function(){this._buttons.knob.enable();this._buttons.slider.body.appendChild(this._buttons.slider.knob)},_initEvents:function(){this._map.on("zoomlevelschange",this._updateSize,this).on("zoomend zoomlevelschange",this._updateKnobValue,this);o.DomEvent.on(this._buttons.slider.body,"click",this._onSliderClick,this);this._buttons.knob.on("dragend",this._updateMapZoom,this)},_onSliderClick:function(t){var e=t.touches&&t.touches.length===1?t.touches[0]:t;var i=o.DomEvent.getMousePosition(e,this._buttons.slider.body).y;this._buttons.knob.setPosition(i);this._updateMapZoom()},_zoomLevels:function(){var t=this._map.getMaxZoom()-this._map.getMinZoom()+1;return t<Infinity?t:0},_toZoomLevel:function(t){return t+this._map.getMinZoom()},_toValue:function(t){return t-this._map.getMinZoom()},_updateSize:function(){var t=this._zoomLevels();this._buttons.slider.body.style.height=8*t+"px";this._buttons.knob.setSteps(t)},_updateMapZoom:function(){this._map.setZoom(this._toZoomLevel(this._buttons.knob.getValue()))},_updateKnobValue:function(){this._buttons.knob.setValue(this._toValue(this._map.getZoom()))}});var s=o.Draggable.extend({initialize:function(t,e,i){o.Draggable.prototype.initialize.call(this,t,t);this._element=t;this._stepHeight=e;this._knobHeight=i;this.on("predrag",function(){this._newPos.x=0;this._newPos.y=this._adjust(this._newPos.y)},this)},_adjust:function(t){var e=Math.round(this._toValue(t));e=Math.max(0,Math.min(this._maxValue,e));return this._toY(e)},_toY:function(t){return this._k*t+this._m},_toValue:function(t){return(t-this._m)/this._k},setSteps:function(t){var e=t*this._stepHeight;this._maxValue=t-1;this._k=-this._stepHeight;this._m=e-(this._stepHeight+this._knobHeight)/2},setPosition:function(t){o.DomUtil.setPosition(this._element,o.point(0,this._adjust(t)))},setValue:function(t){this.setPosition(this._toY(t))},getValue:function(){return this._toValue(o.DomUtil.getPosition(this._element).y)}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./Control":7}]},{},[5]);
//# sourceMappingURL=L.Mappy.js.map